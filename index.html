<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="style.css">
    <title>Mac</title>
</head>
<body>
    <main>
        <div class="app box" id="012789473098" data-group="012789473098">
            <div class="header" id="hi">
                <div class="l">
                    <button class="tool x"></button>
                    <button class="tool m"></button>
                    <button class="tool f"></button>
                </div>
                <div class="c">
                    <span class="app-title">app.title</span>
                </div>
                <div class="r">
                    <button class="more">
                        <i class="fa-solid fa-ellipsis-vertical"></i>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <script>
    let isDragging = false;
    let draggingBox = null;
    let touchStartTime = 0;
    let offsetX, offsetY;
    let maxXPercent, maxYPercent;
    
    const header = document.querySelector('.header');
    
    header.addEventListener('mousedown', handleStart);
    header.addEventListener('touchstart', handleStart);
    
    function handleStart(e) {
        if (isDragging) return;
    
        touchStartTime = new Date().getTime();
        const touch = e.type === 'touchstart' ? e.touches[0] : e;
    
        setTimeout(() => {
        const currentTime = new Date().getTime();
        if (isDragging || (currentTime - touchStartTime < 1000)) {
            return;
        }
    
        draggingBox = document.getElementById('012789473098');
        offsetX = touch.clientX - draggingBox.getBoundingClientRect().left;
        offsetY = touch.clientY - draggingBox.getBoundingClientRect().top;
    
        document.body.style.cursor = 'grabbing';
    
        const startXPercent = (touch.clientX - offsetX) / window.innerWidth * 100;
        const startYPercent = (touch.clientY - offsetY) / window.innerHeight * 100;
    
        draggingBox.style.left = `${startXPercent}%`;
        draggingBox.style.top = `${startYPercent}%`;
    
        maxXPercent = 100 - (draggingBox.offsetWidth / window.innerWidth * 100);
        maxYPercent = 100 - (draggingBox.offsetHeight / window.innerHeight * 100);
    
        document.addEventListener('mousemove', moveHandler);
        document.addEventListener('touchmove', moveHandler);
    
        document.addEventListener('mouseup', () => {
            endDrag();
        });
        document.addEventListener('touchend', () => {
            endDrag();
        });
    
        function moveHandler(e) {
            const touch = e.type === 'touchmove' ? e.touches[0] : e;
            let xPercent = (touch.clientX - offsetX) / window.innerWidth * 100;
            let yPercent = (touch.clientY - offsetY) / window.innerHeight * 100;
    
            xPercent = Math.min(maxXPercent, Math.max(0, xPercent));
            yPercent = Math.min(maxYPercent, Math.max(0, yPercent));
    
            draggingBox.style.left = `${xPercent}%`;
            draggingBox.style.top = `${yPercent}%`;
        }
    
        function endDrag() {
            if (draggingBox) {
            document.body.style.cursor = 'auto';
    
            document.removeEventListener('mousemove', moveHandler);
            document.removeEventListener('touchmove', moveHandler);
            draggingBox = null;
            isDragging = false;
            }
        }
    
        isDragging = true;
        }, 1000);
    }
    </script>
      
    
    
    <script src="https://kit.fontawesome.com/e4704dcbbd.js" crossorigin="anonymous"></script>
</body>
</html>